<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>20220708</title>
    <link rel="stylesheet" href="./css/spux.css" />
    <script type="application/json" id="data">
      {
        "@id": "",
        "birth": "7/8/2022, 13:32:19",
        "energy": 99670,
        "address": "bGh83M6JqpwsxeVsmNwpcZtSMyFpLdrMYz",
        "gitmark": {
          "@id": "gitmark:a1debb87fa905ac7a0ba281abfe75b737fe6b56532097b941f3cd05a6eaf809d:0",
          "genesis": "gitmark:a1debb87fa905ac7a0ba281abfe75b737fe6b56532097b941f3cd05a6eaf809d:0",
          "nick": "melbot_20220708",
          "package": "./package.json",
          "repository": "./"
        },
        "bookmark": [
          {
            "@id": "https://www.reddit.com/r/EarthPorn/comments/vtpys2/after_a_long_hike_in_the_rain_we_got_rewarded/",
            "image": "https://i.redd.it/yxojg4qjh8a91.jpg"
          },
          {
            "@id": "https://www.reddit.com/r/EarthPorn/comments/vtz4mw/moonset_at_yosemite_oc_2121x2828/",
            "image": "https://external-preview.redd.it/v_nNQaxzTpzTLRP95EpM_ZMtjj2ObFz5kE6LT200424.jpg?auto=webp&s=e5bd8080386a93cc2109f0618cefd2958a9d9023"
          }
        ],
        "previous": "../melbot_20220707/",
        "next": "../melbot_20220709/",
        "nostrkey": "7ece5cd4ef612b7d642931ca9c2b71ab8cf01a94a6c3c901177cb2a41fb4d84a"
      }
    </script>

    <script type="module">
      // IMPORTS
      import { render, html } from 'https://cdn.skypack.dev/spux'
      import 'https://cdn.skypack.dev/dior'

      // COMPONENTS
      function Navbar (props) {
        let title = props.title || 'Spux'
        return html`
          <div id="navbar" style="margin-top: -10px; margin-bottom: -10px;">
            <div class="bg-success pv2 row">
              <div class="col">
                <a href="#buttons" class="white ph2 bold">${title}</a>
              </div>
            </div>
          </div>
          <hr />
        `
      }

      function Bookmark (props) {
        let uri = props.uri || '#'
        let title = props.title || 'bookmark'
        let image = props.image || '#'
        return html`
          <td>
            <img height="200" src="${image}" /> ${'\n'}
            <br />
            <a style="color: blue" href="${uri}" target="_blank">reddit ðŸ”—</a>
          </td>
        `
      }

      // INIT
      var bookmarks = di.data.bookmark

      // RENDER
      render(
        html`
          <${Navbar} title="${di.data.gitmark['nick']}" />

          <img
            src="https://robohash.org/gitmark:a1debb87fa905ac7a0ba281abfe75b737fe6b56532097b941f3cd05a6eaf809d:0"
          />

          <pre>

                  Name: ${di.data.gitmark['nick'] + '\n'}
                  Birth: ${di.data.birth} ${'\n'}
                  Energy: ${di.data.energy} Marks ${'\n'}
                  Address: <a style="color: blue" href="https://chainz.cryptoid.info/marks/address.dws?${di
            .data.address}.htm" target="_blank">${di.data.address}</a> ${'\n'}
            Previous: <a style="color: blue" href="${di.data.previous}">${di
            .data.previous}</a> ${'\n'}
            Next: <a style="color: blue" href="${di.data.next}">${di.data
            .next}</a> ${'\n'}
            Nostr: ${di.data.nostrkey}


          </pre>
          <h4>Activity</h4>
          <pre>
      <a style="color: blue"
                  href="https://gitmark.info/${di.data.gitmark['@id'].split(
            ':'
          )[1]}"
                  target="_blank"
                  >Genesis</a
                >
                  </pre>

          <h4>Bookmarks</h4>

          <table>
            <tr>
              ${bookmarks.map(i => {
                return html`
                  <${Bookmark} uri="${i['@id']}" image="${i.image}" />
                `
              })}
            </tr>
          </table>

          <footer>
            |
            <a
              style="color: blue"
              href="https://gitmark.info/${di.data.gitmark['@id'].split(
                ':'
              )[1]}"
              target="_blank"
              >${di.data.gitmark['@id']}</a
            >
            |
          </footer>
        `,
        document.body
      )

      console.log(di.data)
    </script>
  </head>
  <body></body>
</html>
